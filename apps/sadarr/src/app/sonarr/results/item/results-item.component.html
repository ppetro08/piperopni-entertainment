<!-- TODO:P - Result should show rating, number of season, and something indicating if it has been added or not -->
<!-- show if there are any missing items -->
<form *ngIf="item" [formGroup]="formGroup" (ngSubmit)="onSubmit(item)">
  <div class="results-item-top">
    <div class="result-detail-title">
      <div class="result-detail-title-text">
        {{ item.title }}
      </div>
      <span class="result-detail-title-year">({{ item.year }})</span>
      <span class="lozenge lozenge-primary" *ngIf="item.added"> Added </span>
    </div>
    <div class="result-detail-additional-info">
      <div
        class="lozenge lozenge-primary lozenge-with-icon"
        *ngIf="item.rating"
      >
        <mat-icon color="warn" class="lozenge-icon">favorite</mat-icon>
        <div class="lozenge-text">{{ item.rating }}%</div>
      </div>
      <span class="lozenge lozenge-primary" *ngIf="item.network">
        {{ item.network }}
      </span>
      <span class="lozenge lozenge-primary">
        {{ item.seasonCount }} Season(s)
      </span>
      <span class="lozenge lozenge-warn" *ngIf="item.status === 'ended'">
        {{ item.status }}
      </span>
    </div>
  </div>
  <div class="results-item-bottom">
    <div class="thumbnail-container">
      <img [src]="item.remotePoster" />
    </div>
    <div class="result-detail" [ngClass]="{ 'no-margin': !item.remotePoster }">
      <div class="result-detail-description" [title]="item.overview">
        {{ item.overview }}
      </div>

      <!-- TODO:P - Display number of episodes, maybe even more info like episodes missing from seasons -->
      <div class="result-actions">
        <div class="result-actions-inputs">
          <div class="all-multi-select result-actions-input">
            <mat-checkbox formControlName="all">All</mat-checkbox>
            <mat-form-field floatLabel="always">
              <mat-label>Seasons</mat-label>
              <mat-select multiple formControlName="seasons" required>
                <mat-option
                  *ngFor="let season of item.seasons"
                  [value]="season.seasonNumber"
                >
                  Season {{ season.seasonNumber }}
                </mat-option>
              </mat-select>
            </mat-form-field>
          </div>
          <mat-form-field class="result-actions-input">
            <mat-label>Quality</mat-label>
            <pip-profile-select formControlName="profile"></pip-profile-select>
          </mat-form-field>
        </div>
        <div class="result-actions-buttons">
          <!-- TODO:P - Does add and search need to be separate? -->
          <!-- <button
            *ngIf="!item.monitored"
            mat-raised-button
            color="primary"
            (click)="addClicked(item)"
          >
            Add
          </button> -->
          <button mat-raised-button color="primary" type="submit">Search</button>
          <!-- TODO:P - Search should update episodes that are unmonitored to monitored -->
          <!-- TODO:P - Repeated search until nothing is found -->
        </div>
      </div>
    </div>
  </div>
</form>
